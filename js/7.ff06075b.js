(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"1PwH":function(e,t,a){"use strict";var n=a("vy9o"),i=a.n(n);i.a},"1zj3":function(e,t,a){},"21NN":function(e,t,a){},"5WCO":function(e,t,a){"use strict";var n=a("tq8I"),i=a.n(n);i.a},BGEv:function(e,t,a){"use strict";var n=a("1zj3"),i=a.n(n);i.a},E4go:function(e,t,a){},E5Ou:function(e,t,a){"use strict";var n=a("MrNC"),i=a.n(n);i.a},MrNC:function(e,t,a){},Oj6A:function(e,t,a){"use strict";var n=a("VMFk"),i=a.n(n);i.a},RDHp:function(e,t,a){"use strict";var n=a("21NN"),i=a.n(n);i.a},RUGF:function(e,t,a){},TJdX:function(e,t,a){},UEBS:function(e,t,a){"use strict";var n=a("d8k6"),i=a.n(n);i.a},VBOT:function(e,t,a){"use strict";var n=a("WggH"),i=a.n(n);i.a},VMFk:function(e,t,a){},WggH:function(e,t,a){},YgEf:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a("RIqP"),i=a.n(n);function s(e,t,a,n){var s=t.data["".concat(n,"Subscription")];if(s){var r={};return"CREATED"===s.mutation?(r[a]=[s.node].concat(i()(e[a])),r):"DELETED"===s.mutation?(r[a]=e[a].filter(function(e){return e.id!==s.previousValues.id}),r):void 0}}},cyHp:function(e,t,a){"use strict";var n=a("TJdX"),i=a.n(n);i.a},d8k6:function(e,t,a){},gbqL:function(e,t,a){},ihjQ:function(e,t,a){"use strict";a.d(t,"b",function(){return f}),a.d(t,"f",function(){return h}),a.d(t,"a",function(){return m}),a.d(t,"c",function(){return y}),a.d(t,"e",function(){return p}),a.d(t,"d",function(){return D});var n=a("VkAN"),i=a.n(n),s=a("lTCR"),r=a.n(s);function l(){var e=i()(["\n  subscription EventsSubscription {\n    eventSubscription {\n      mutation\n      node {\n        id\n        event\n      }\n      previousValues {\n        id\n      }\n    }\n  }\n"]);return l=function(){return e},e}function o(){var e=i()(["\n  query EventQuery($id: ID!) {\n    event( where: {id: $id}) {\n      id\n      event\n    }\n  }  \n"]);return o=function(){return e},e}function d(){var e=i()(["\n  mutation DeleteEventMutation($id: ID!) {\n    deleteEvent(where: {id: $id }) {\n      id\n    }\n  }\n"]);return d=function(){return e},e}function c(){var e=i()(["\n  query AllEventsQuery {\n    events(orderBy: createdAt_DESC) {\n      id\n      event\n    }\n  }  \n"]);return c=function(){return e},e}function u(){var e=i()(["\n  mutation UpdateEventMutation($eventId: ID!, $event: Json!){\n    updateEvent(\n      where: {id: $eventId }\n      data: {\n        event: $event\n      }\n    ){\n      id\n      event\n    }\n  }\n"]);return u=function(){return e},e}function v(){var e=i()(["\n  mutation CreateEventMutation($event: Json!){\n    createEvent(\n      data: {\n        event: $event\n      }\n    ){\n      id\n      event\n    }\n  }\n"]);return v=function(){return e},e}var f=r()(v()),h=r()(u()),m=r()(c()),y=r()(d()),p=r()(o()),D=r()(l())},"k+HA":function(e,t,a){"use strict";var n=a("gbqL"),i=a.n(n);i.a},od6v:function(e,t,a){"use strict";var n=a("u/e4"),i=a.n(n);i.a},s60W:function(e,t,a){"use strict";var n=a("RUGF"),i=a.n(n);i.a},tq8I:function(e,t,a){},txow:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-mt-xl text-center page"},[e.loaded?a("calendar",{attrs:{eventArray:e.allEvents,tabLabels:e.tabs,"calendar-timezone":e.me.timezone,"allow-editing":!0}}):e._e(),a("q-page-sticky",{staticClass:"hide-animate",attrs:{position:"bottom-right",offset:[18,18]}},[a("q-fab",{staticClass:"white",attrs:{color:"red",icon:"add"},on:{show:function(t){e.$router.push("/events/new")}}}),a("q-tooltip",{attrs:{self:"bottom left",delay:1e3}},[e._v("\n      Create event\n    ")])],1)],1)},i=[];n._withStripped=!0;a("pIFo");var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"calendar-test"},[a("q-tabs",{ref:"fullCalendarTabs",staticClass:"calendar-tabs",attrs:{inverted:""}},[a("q-tab",{attrs:{slot:"title",name:"tab-month",icon:"view_module",label:e.tabLabels.month,default:""},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-week-component",icon:"view_week",label:e.tabLabels.week},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-days-component",icon:"view_column",label:e.tabLabels.threeDay},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-single-day-component",icon:"view_day",label:e.tabLabels.day},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-agenda",icon:"view_agenda",label:e.tabLabels.agenda},slot:"title"}),a("q-tab-pane",{staticClass:"calendar-tab-pane-month",attrs:{name:"tab-month"}},[a("calendar-month",{ref:"month-"+e.thisRefName,attrs:{"start-date":e.workingDate,"parsed-events":e.parsed,"event-ref":e.eventRef,"full-component-ref":e.eventRef,"sunday-first-day-of-week":e.sundayFirstDayOfWeek,"calendar-locale":e.calendarLocale,"calendar-timezone":e.calendarTimezone,"prevent-event-detail":e.preventEventDetail,"allow-editing":e.allowEditing}})],1),a("q-tab-pane",{staticClass:"calendar-tab-pane-week",attrs:{name:"tab-week-component"}},[a("calendar-multi-day",{ref:"week-"+e.thisRefName,attrs:{"start-date":e.workingDate,"parsed-events":e.parsed,"num-days":7,"nav-days":7,"force-start-of-week":!0,"event-ref":e.eventRef,"full-component-ref":e.eventRef,"sunday-first-day-of-week":e.sundayFirstDayOfWeek,"calendar-locale":e.calendarLocale,"calendar-timezone":e.calendarTimezone,"prevent-event-detail":e.preventEventDetail,"allow-editing":e.allowEditing}})],1),a("q-tab-pane",{staticClass:"calendar-tab-pane-week",attrs:{name:"tab-days-component"}},[a("calendar-multi-day",{ref:"days-"+e.thisRefName,attrs:{"start-date":e.workingDate,"parsed-events":e.parsed,"num-days":3,"nav-days":1,"force-start-of-week":!1,"event-ref":e.eventRef,"full-component-ref":e.eventRef,"sunday-first-day-of-week":e.sundayFirstDayOfWeek,"calendar-locale":e.calendarLocale,"calendar-timezone":e.calendarTimezone,"prevent-event-detail":e.preventEventDetail,"allow-editing":e.allowEditing}})],1),a("q-tab-pane",{staticClass:"calendar-tab-pane-week",attrs:{name:"tab-single-day-component"}},[a("calendar-multi-day",{ref:"day-"+e.thisRefName,attrs:{"start-date":e.workingDate,"parsed-events":e.parsed,"num-days":1,"nav-days":1,"force-start-of-week":!1,"event-ref":e.eventRef,"full-component-ref":e.eventRef,"sunday-first-day-of-week":e.sundayFirstDayOfWeek,"calendar-locale":e.calendarLocale,"calendar-timezone":e.calendarTimezone,"prevent-event-detail":e.preventEventDetail,"allow-editing":e.allowEditing}})],1),a("q-tab-pane",{staticClass:"calendar-tab-pane-agenda",attrs:{name:"tab-agenda"}},[a("calendar-agenda",{ref:"agenda-"+e.thisRefName,attrs:{"start-date":e.workingDate,"parsed-events":e.parsed,"num-days":28,"event-ref":e.eventRef,"scroll-height":"300px","full-component-ref":e.eventRef,"sunday-first-day-of-week":e.sundayFirstDayOfWeek,"calendar-locale":e.calendarLocale,"calendar-timezone":e.calendarTimezone,"prevent-event-detail":e.preventEventDetail,"allow-editing":e.allowEditing}})],1)],1)],1)},r=[];s._withStripped=!0;var l=a("Y0Fm"),o=a.n(l);const{DateTime:d}=a("ExVU");var c={computed:{},methods:{handleStartChange:function(e,t){this.doUpdate()},makeDT:function(e,t){return"undefined"===typeof e?null:(e instanceof Date&&(e=d.fromJSDate(e)),!this.calendarLocale||o()(e,"locale")&&this.calendarLocale===e.locale||(e=e.setLocale(this.calendarLocale)),t&&t!==e.zoneName&&(e=e.setZone(this.calendarTimezone)),e)},triggerEventClick:function(e,t){this.$root.$emit("click-event-"+t,e)},handleEventDetailEvent:function(e,t){this.preventEventDetail||(void 0===t&&(t="defaultEventDetail"),this.eventDetailEventObject=e,o()(this.$refs,t+".__open")?this.$refs[t].__open():o()(this,t+".__open")&&this[t].__open())},fullMoveToDay:function(e){this.fullComponentRef&&this.$root.$emit(this.fullComponentRef+":moveToSingleDay",{dateObject:e})},getEventColor:function(e,t){return o()(e,t)?e[t]:o()(this,t)?this[t]:"textColor"===t?"white":"primary"},addCssColorClasses:function(e,t){return e["bg-"+this.getEventColor(t,"color")]=!0,e["text-"+this.getEventColor(t,"textColor")]=!0,e},formatDate:function(e,t,a){return a?this.makeDT(e).toLocaleString(d[t]):this.makeDT(e).toFormat(t)},dateAdjustWeekday(e,t){e=this.makeDT(e);let a=d.local(),n=!0;t<1&&(n=!1,t=Math.abs(t),0===t&&(t=7));for(let i=1;i<=7;i++)if(a=n?e.plus({days:i}):e.minus({days:i}),a.weekday===t)return a},buildWeekDateArray:function(e,t){void 0===e&&(e=void 0!==this.numberOfDays?this.numberOfDays:void 0!==this.numDays?this.numDays:7),this.forceStartOfWeek?this.weekDateArray=this.getForcedWeekDateArray(e,t):this.weekDateArray=this.getWeekDateArray(e)},getForcedWeekBookendDates:function(e,t){return void 0===e&&(e=7),t?{first:this.dateAdjustWeekday(this.workingDate,-1).minus({days:1}),last:this.dateAdjustWeekday(this.workingDate,e).minus({days:1})}:{first:this.dateAdjustWeekday(this.workingDate,-1),last:this.dateAdjustWeekday(this.workingDate,e)}},getForcedWeekDateArray:function(e,t){let a=this.getForcedWeekBookendDates(e,t),n=[];for(let i=0;i<=e-1;i++)n.push(this.makeDT(a.first).plus({days:i}));return n},getWeekDateArray:function(e){let t=[];for(let a=0;a<=e-1;a++)t.push(this.makeDT(this.workingDate).plus({days:a}));return t},formatTimeFromNumber:function(e){let t=this.makeDT(d.fromObject({hour:e})),a=t.toLocaleString(d.TIME_SIMPLE);return a.replace(/:[0-9][0-9]/,"").replace(" ","").toLowerCase()},simplifyTimeFormat:function(e,t){return t&&(e=e.replace(/[AP]M/i,"")),e.replace(":00","").replace(" ","").toLowerCase()},moveTimePeriod:function(e){let t={};t[e.unitType]=e.amount,this.workingDate=this.workingDate.plus(t)},setTimePeriod:function(e){this.workingDate=e.dateObject},getDayOfWeek:function(){return this.createThisDate(this.dayNumber).format("dddd")},createThisDate:function(e){return this.parseDateParams(e)},isCurrentDate:function(e){return d.local().hasSame(this.makeDT(e),"day")},isWeekendDay:function(e){const t=this.makeDT(e).weekday;return 6===t||7===t},getWeekNumber(e,t){return t?this.makeDT(e).plus({days:1}).weekNumber:this.makeDT(e).weekNumber},mountSetDate:function(){this.workingDate=this.makeDT(this.startDate)},decimalAdjust:function(e,t,a){return"undefined"===typeof a||0===+a?Math[e](t):(t=+t,a=+a,isNaN(t)||"number"!==typeof a||a%1!==0?NaN:(t=t.toString().split("e"),t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-a:-a))),t=t.toString().split("e"),+(t[0]+"e"+(t[1]?+t[1]+a:a))))},calculateDayCellWidth:function(e){return this.decimalAdjust("floor",100/e,-3)+"%"},createNewNavEventName:function(){return"calendar:navMovePeriod:"+this.createRandomString()},createRandomString:function(){return Math.random().toString(36).substring(2,15)},getEventIdString:function(e){return o()(e,"id")?"number"===typeof e.id?e.id.toString():"string"===typeof e.id?e.id:""+e.id:"NOID"+this.createRandomString()}},mounted(){}},u=a("K405");const v={byAllDayStartDate:{},byAllDayObject:{},byStartDate:{},byId:{}},{DateTime:f}=a("ExVU");var h={computed:{},methods:{formatToSqlDate:function(e){return this.makeDT(e).toISODate()},getEventById:function(e){return this.parsed.byId[e]},dateGetEvents:function(e,t){let a=this.hasAllDayEvents(e),n=this.hasEvents(e),i=[],s=this.makeDT(e).toISODate();if(a){let e=["daysFromStart","durationDays","hasNext","hasPrev","slot"],a={},n=0;for(let t of this.parsed.byAllDayObject[s])a[t.slot]=t,t.slot>n&&(n=t.slot);for(let s=0;s<=n;s++){let n={};if(o()(a,s)){n=this.getEventById(a[s].id);for(let t of e)n[t]=a[s][t]}else n={slot:s,start:{isAllDay:!0,isEmptySlot:!0}};t&&n.slot||i.push(n)}}if(n)for(let r of this.parsed.byStartDate[s])i.push(this.getEventById(r));return i},hasAnyEvents:function(e){return this.hasEvents(e)||this.hasAllDayEvents(e)},hasAllDayEvents:function(e){return o()(this.parsed.byAllDayObject,this.formatToSqlDate(e))},hasEvents:function(e){return o()(this.parsed.byStartDate,this.formatToSqlDate(e))},clearParsed:function(){return this.parsed={},this.parsed={byAllDayStartDate:{},byAllDayObject:{},byStartDate:{},byId:{}},!0},moveToDisplayZone:function(e){return this.makeDT(e,this.calendarTimezone)},parseEventList:function(){this.clearParsed();for(let e of this.eventArray){this.parsed.byId[e.id]=e,o()(e.start,"date")?(e.start["dateObject"]=this.moveToDisplayZone(f.fromISO(e.start.date).startOf("day")),e.end["dateObject"]=this.moveToDisplayZone(f.fromISO(e.end.date).endOf("day")),e.start["isAllDay"]=!0,e["durationDays"]=Math.ceil(e.end.dateObject.diff(e.start.dateObject).as("days"))):(e.start["dateObject"]=f.fromISO(e.start.dateTime),o()(e.start,"timeZone")&&(e.start.dateObject=e.start.dateObject.setZone(e.start.timeZone,{keepLocalTime:!0}).toLocal(),delete e.start.timeZone,e.start.dateTime=e.start.dateObject.toISO()),e.start.dateObject=this.moveToDisplayZone(e.start.dateObject),e.end["dateObject"]=f.fromISO(e.end.dateTime),o()(e.end,"timeZone")&&(e.end.dateObject=e.end.dateObject.setZone(e.end.timeZone,{keepLocalTime:!0}).toLocal(),delete e.end.timeZone,e.end.dateTime=e.end.dateObject.toISO()),e.end.dateObject=this.moveToDisplayZone(e.end.dateObject));let t=e.start.dateObject.toISODate();if(e.start.isAllDay)for(let a=0;a<e.durationDays;a++){let t=e.start.dateObject.plus({days:a}).toISODate();o()(this.parsed.byAllDayStartDate,t)||(this.parsed.byAllDayStartDate[t]=[]),this.parsed.byAllDayStartDate[t].push(e.id),o()(this.parsed.byAllDayObject,t)||(this.parsed.byAllDayObject[t]=[]),this.parsed.byAllDayObject[t].push({id:e.id,hasPrev:a>0,hasNext:a<e.durationDays-1,hasPreviousDay:a>0,hasNextDay:a<e.durationDays-1,durationDays:e.durationDays,startDate:e.start.dateObject,daysFromStart:a})}else e.durationMinutes=this.parseGetDurationMinutes(e),o()(this.parsed.byStartDate,t)||(this.parsed.byStartDate[t]=[]),this.parsed.byStartDate[t].push(e.id)}for(let e in this.parsed.byAllDayObject)this.parsed.byAllDayObject[e].sort(this.sortPairOfAllDayObjects);this.buildAllDaySlotArray();for(let e in this.parsed.byStartDate)this.parsed.byStartDate[e]=this.sortDateEvents(this.parsed.byStartDate[e]),this.parseDateEvents(this.parsed.byStartDate[e])},buildAllDaySlotArray:function(){let e={},t=Object.keys(this.parsed.byAllDayObject).sort();for(let a of t){o()(e,a)||(e[a]={});for(let t of this.parsed.byAllDayObject[a])if(!o()(t,"slot")){let n=t.id,i=0,s=!1;while(!s)o()(e[a],i)?i++:s=!0;for(let r=0;r<t.durationDays;r++){let t=f.fromISO(a+"T00:00:00").plus({days:r}).toISODate();o()(e,t)||(e[t]={}),e[t][i]=n;for(let e in this.parsed.byAllDayObject[t]){let a=this.parsed.byAllDayObject[t][e];if(a.id===n){this.parsed.byAllDayObject[t][e]["slot"]=i;break}}}}}},sortPairOfAllDayObjects:function(e,t){return e.daysFromStart<t.daysFromStart?1:e.daysFromStart>t.daysFromStart?-1:e.durationDays>t.durationDays?1:e.durationDays<t.durationDays?-1:0},sortPairOfDateEvents:function(e,t){return u["Ha"].getDateDiff(u["Ha"].addToDate(e.start.dateObject,{milliseconds:e.durationMinutes}),u["Ha"].addToDate(t.start.dateObject,{milliseconds:t.durationMinutes}))},sortDateEvents:function(e){let t=[];for(let n of e)t.push(this.parsed.byId[n]);t.sort(this.sortPairOfDateEvents);let a=[];for(let n of t)a.push(n.id);return a},parseDateEvents:function(e){let t=1,a=1;for(let n of e){let i=0;for(let t of e){let e=this.parsed.byId[n],a=this.parsed.byId[t];n!==t&&this.parseHasOverlap(e,a)&&i++}this.parsed.byId[n]["numberOfOverlaps"]=i,i>0?(this.parsed.byId[n]["overlapSegment"]=t,this.parsed.byId[n]["overlapIteration"]=a,a++):(this.parsed.byId[n]["overlapSegment"]=0,t++,a=1)}},parseGetDurationMinutes:function(e){return e.start.isAllDay?1440:e.end.dateObject.diff(e.start.dateObject,"minutes")},parseHasOverlap:function(e,t){return e.start.dateObject<=t.end.dateObject&&e.end.dateObject>=t.start.dateObject},getPassedInParsedEvents:function(){return this.parsed=v,void 0!==this.parsedEvents&&void 0!==this.parsedEvents.byId&&Object.keys(this.parsedEvents).length>0&&(this.parsed=this.parsedEvents,!0)},getPassedInEventArray:function(){return this.parsed=v,void 0!==this.eventArray&&this.eventArray.length>0&&(this.parseEventList(),!0)},getDefaultParsed:function(){return v},isParsedEventsEmpty:function(){return!(void 0!==this.parsedEvents&&void 0!==this.parsedEvents.byId&&Object.keys(this.parsedEvents).length>0)},isEventArrayEmpty:function(){return!(void 0!==this.eventArray&&this.eventArray.length>0)},handlePassedInEvents:function(){this.isParsedEventsEmpty()?this.isEventArrayEmpty()||this.getPassedInEventArray():this.getPassedInParsedEvents()},handleEventUpdate:function(e){if(o()(this._props,"fullComponentRef"))return;let t=e.id;for(let a in this.eventArray)this.eventArray[a].id===t&&(this.eventArray[a]=e,this.parseEventList())}},mounted(){}};const{DateTime:m}=a("ExVU");var y={props:{startDate:{type:[Object,Date],default:()=>{return new Date}},eventArray:{type:Array,default:()=>[]},parsedEvents:{type:Object,default:()=>{}},eventRef:{type:String,default:"cal-"+Math.random().toString(36).substring(2,15)},preventEventDetail:{type:Boolean,default:!1},calendarLocale:{type:String,default:()=>{return m.local().locale}},calendarTimezone:{type:String,default:()=>{return m.local().zoneName}},sundayFirstDayOfWeek:{type:Boolean,default:!1},allowEditing:{type:Boolean,default:!1}},mounted(){}},p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.getEventClass(),style:e.getEventStyle(),on:{click:e.handleClick}},[!e.eventHasPreviousDay()||e.firstDayOfWeek&&e.eventHasPreviousDay()?[!e.isAllDayEvent()&&e.showTime?a("span",{staticClass:"calendar-event-start-time"},[e._v("\n      "+e._s(e.formatTime(e.eventObject.start.dateObject))+"\n    ")]):e._e(),e.isEmptySlot()?a("span",{staticClass:"calendar-event-summary"},[e._v("\n       \n    ")]):a("span",{staticClass:"calendar-event-summary"},[e._v("\n      "+e._s(e.eventObject.summary)+"\n    ")])]:[e._v("\n     \n  ")]],2)},D=[];p._withStripped=!0;const{DateTime:b}=a("ExVU");var g={name:"CalendarEvent",props:{eventObject:{type:Object,default:()=>{}},color:{type:String,default:"primary"},textColor:{type:String,default:"white"},showTime:{type:Boolean,default:!0},monthStyle:{type:Boolean,default:!1},eventRef:String,preventEventDetail:{type:Boolean,default:!1},forceAllDay:Boolean,currentCalendarDay:Object,hasPreviousDay:Boolean,hasNextDay:Boolean,firstDayOfWeek:Boolean,lastDayOfWeek:Boolean,calendarLocale:{type:String,default:()=>{return b.local().locale}},allowEditing:{type:Boolean,default:!1}},components:{QBtn:u["i"],QTooltip:u["Ea"]},mixins:[c,h],data(){return{}},computed:{},methods:{getEventStyle:function(){return{}},getEventClass:function(){return this.addCssColorClasses({"calendar-event":!0,"calendar-event-month":this.monthStyle,"calendar-event-multi":!this.monthStyle,"calendar-event-multi-allday":this.forceAllDay,"calendar-event-has-next-day":this.eventHasNextDay(),"calendar-event-has-previous-day":this.eventHasPreviousDay(),"calendar-event-empty-slot":this.isEmptySlot(),"calendar-event-continues-next-week":this.eventContinuesNextWeek(),"calendar-event-continues-from-last-week":this.eventContinuesFromLastWeek()},this.eventObject)},isEmptySlot:function(){return this.eventObject.start.isEmptySlot},eventContinuesNextWeek:function(){return o()(this.eventObject,"start.dateObject")&&this.monthStyle&&this.eventHasNextDay()&&(this.lastDayOfWeek||this.isLastDayOfMonth(this.eventObject.start.dateObject))},eventContinuesFromLastWeek:function(){return o()(this.eventObject,"start.dateObject")&&this.monthStyle&&this.eventHasPreviousDay()&&(this.firstDayOfWeek||this.isFirstDayOfMonth(this.eventObject.start.dateObject))},isLastDayOfMonth:function(e){return"undefined"!==typeof e&&null!==e&&this.makeDT(this.currentCalendarDay).toISODate()===this.makeDT(e).endOf("month").toISODate()},isFirstDayOfMonth:function(e){return"undefined"!==typeof e&&null!==e&&this.makeDT(this.currentCalendarDay).toISODate()===this.makeDT(e).startOf("month").toISODate()},eventHasNextDay:function(){return!!this.hasNextDay&&this.hasNextDay},eventHasPreviousDay:function(){return!!this.hasPreviousDay&&this.hasPreviousDay},formatTime:function(e){let t=this.makeDT(e).toLocaleString(b.TIME_SIMPLE);return t.includes("M")&&(t=t.replace(":00","").replace(" AM","a").replace(" PM","p")),t},isAllDayEvent:function(){return this.eventObject.start.isAllDay},handleClick:function(e){this.eventObject.allowEditing=this.allowEditing,this.$emit("click",this.eventObject),this.triggerEventClick(this.eventObject,this.eventRef)}},mounted(){}},E=g,O=(a("5WCO"),a("KHd+")),C=Object(O["a"])(E,p,D,!1,null,null,null),w=C.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"calendar-month"},[a("calendar-header-nav",{attrs:{"time-period-unit":"month","time-period-amount":1,"move-time-period-emit":e.eventRef+":navMovePeriod"}},[e._v("\n    "+e._s(e.formatDate(e.workingDate,"MMMM yyyy"))+"\n  ")]),a("div",{staticClass:"calendar-content"},[a("calendar-day-labels",{attrs:{"number-of-days":7,"start-date":e.workingDate,"force-start-of-week":!0,"sunday-first-day-of-week":e.sundayFirstDayOfWeek,"calendar-locale":e.calendarLocale}}),e._l(e.weekArray,function(t,n){return a("div",{key:n,class:{"calendar-multi-day":!0,row:!0,"no-wrap":!0,"items-start":!0,"justify-end":n<e.weekArray.length-1,"justify-start":n===e.weekArray.length-1}},e._l(t,function(n,i){return a("div",{key:e.makeDT(n.dateObject).toISODate(),class:{"calendar-day":!0,"calendar-cell":!0,"calendar-day-weekend":e.isWeekendDay(n.dateObject),"calendar-day-current":e.isCurrentDate(n.dateObject)}},[e.isCurrentDate(n.dateObject)?a("div",{class:{"cursor-pointer":e.calendarDaysAreClickable},on:{click:function(t){e.handleDayClick(n.dateObject)}}},[a("quantity-bubble",{attrs:{quantity:n.dateObject.day,offset:!1}})],1):a("div",{class:{"calendar-day-number":!0,"cursor-pointer":e.calendarDaysAreClickable},on:{click:function(t){e.handleDayClick(n.dateObject)}}},[e._v("\n          "+e._s(n.dateObject.day)+"\n        ")]),a("div",{staticClass:"calendar-day-content"},[e.hasAnyEvents(n.dateObject)?e._l(e.monthGetDateEvents(n.dateObject),function(s){return a("div",{key:s.id},[a("calendar-event",{attrs:{"event-object":s,"month-style":!0,"event-ref":e.eventRef,"prevent-event-detail":e.preventEventDetail,"current-calendar-day":n.dateObject,"has-previous-day":s.hasPrev,"has-next-day":s.hasNext,"first-day-of-week":0===i,"last-day-of-week":i===t.length-1,"allow-editing":e.allowEditing}})],1)}):e._e()],2)])}))})],2),e.preventEventDetail?e._e():a("calendar-event-detail",{ref:"defaultEventDetail",attrs:{"event-object":e.eventDetailEventObject,"calendar-locale":e.calendarLocale,"calendar-timezone":e.calendarTimezone,"event-ref":e.eventRef,"allow-editing":e.allowEditing}})],1)},k=[];j._withStripped=!0;var _=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.quantity>0?a("div",{staticClass:"quantity-bubble-holder"},[e._v("\n   \n  "),a("div",{class:e.bubbleClass},[a("div",{staticClass:"quantity-value"},[e._v("\n      "+e._s(e.quantity)+"\n    ")])])]):e._e()},S=[];_._withStripped=!0;var T={props:{quantity:{type:Number,default:0},backgroundColor:{type:String,default:"primary"},textColor:{type:String,default:"white"},offset:{type:Boolean,default:!0}},filters:{},computed:{bubbleClass:function(){let e={"quantity-bubble":!0,row:!0,col:!0,"items-center":!0,"justify-center":!0,"shadow-1":!0};return e["bg-"+this.backgroundColor]=!0,e["text-"+this.textColor]=!0,this.offset&&(e["quantity-bubble-offset"]=!0),e}},methods:{},components:{},data(){return{}}},A=T,M=(a("wVGO"),Object(O["a"])(A,_,S,!1,null,null,null)),q=M.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"calendar-day-labels row no-wrap justify-end"},e._l(e.weekDateArray,function(t){return a("div",{key:e.formatDate(t,"EEE"),class:{"calendar-day-label":!0,"calendar-cell":!0,"calendar-day-label-current":e.isCurrentDayLabel(t),"cursor-pointer":e.calendarDaysAreClickable},style:{width:e.cellWidth,"max-width":e.cellWidth},on:{click:function(a){e.handleDayClick(t)}}},[e._v("\n    "+e._s(e.formatDate(t,"EEE"))+"\n    "),e.showDates?a("div",{staticClass:"calendar-day-label-date"},[e._v("\n      "+e._s(e.formatDate(t,"d"))+"\n    ")]):e._e()])}))},P=[];I._withStripped=!0;const{DateTime:x}=a("ExVU");var R={name:"CalendarDayLabels",props:{startDate:{type:[Object,Date],default:()=>{return new Date}},numberOfDays:{type:Number,default:7},showDates:{type:Boolean,default:!1},forceStartOfWeek:{type:Boolean,default:!1},fullComponentRef:String,sundayFirstDayOfWeek:{type:Boolean,default:!1},calendarLocale:{type:String,default:()=>{return x.local().locale}}},components:{},mixins:[c],data(){return{dayCellHeight:5,dayCellHeightUnit:"rem",workingDate:x.local(),weekDateArray:[]}},computed:{cellWidth:function(){return this.calculateDayCellWidth(this.numberOfDays)},calendarDaysAreClickable:function(){return this.fullComponentRef&&this.fullComponentRef.length>0}},methods:{handleStartChange:function(e,t){this.doUpdate()},doUpdate:function(){this.mountSetDate(),this.buildWeekDateArray(this.numberOfDays,this.sundayFirstDayOfWeek)},isCurrentDayLabel:function(e,t){let a=x.local();return e=this.makeDT(e),!0===t?a.weekday===e.weekday&&a.month===e.month:a.hasSame(e,"day")},handleDayClick:function(e){this.fullComponentRef&&this.fullMoveToDay(e)}},mounted(){this.mountSetDate()},watch:{startDate:"handleStartChange"}},$=R,N=(a("E5Ou"),Object(O["a"])($,I,P,!1,null,null,null)),L=N.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"calendar-header col-auto row justify-between items-center"},[a("div",{staticClass:"calendar-header-left col-auto"},[a("q-btn",{attrs:{icon:"chevron_left",color:"primary",round:"",flat:""},on:{click:function(t){e.doMoveTimePeriod(e.timePeriodUnit,-e.timePeriodAmount)}}})],1),a("div",{staticClass:"calendar-header-label"},[e._t("default")],2),a("div",{staticClass:"calendar-header-right col-auto"},[a("q-btn",{attrs:{icon:"chevron_right",color:"primary",round:"",flat:""},on:{click:function(t){e.doMoveTimePeriod(e.timePeriodUnit,e.timePeriodAmount)}}})],1)])},H=[];W._withStripped=!0;var F={name:"CalendarHeaderNav",props:{timePeriodUnit:{type:String,default:"days"},timePeriodAmount:{type:Number,default:1},moveTimePeriodFunction:Object,moveTimePeriodEmit:{type:String,default:"calendar:navMovePeriod"}},components:{QBtn:u["i"]},data(){return{}},computed:{},methods:{doMoveTimePeriod(e,t){this.$root.$emit(this.moveTimePeriodEmit,{unitType:e,amount:t})}},mounted(){}},B=F,U=(a("s60W"),Object(O["a"])(B,W,H,!1,null,null,null)),Q=U.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-modal",{staticClass:"calendar-event-detail",on:{hide:function(t){e.__close()},"escape-key":function(t){e.__close()}},model:{value:e.modalIsOpen,callback:function(t){e.modalIsOpen=t},expression:"modalIsOpen"}},[a("div",{class:e.getTopColorClasses},[a("div",{staticClass:"absolute-top-right row justify-end items-start ced-toolbar"},[a("q-btn",{attrs:{flat:"",icon:"delete",round:""},on:{click:function(t){e.__delete()}}},[a("q-tooltip",{attrs:{delay:1e3,anchor:"center left",self:"center right",offset:[20,0]}},[e._v("\n          Delete event\n        ")])],1),a("q-btn",{attrs:{flat:"",icon:"edit",round:""},on:{click:function(t){e.__edit()}}},[a("q-tooltip",{attrs:{delay:1e3,anchor:"center left",self:"center right",offset:[20,0]}},[e._v("\n          Edit event\n        ")])],1),a("q-btn",{attrs:{flat:"",icon:"close",round:""},on:{click:function(t){e.__close()}}})],1),e.isEditingAllowed&&e.inEditMode?a("div",{staticClass:"ced-top-title"},[e.isEditingAllowed&&e.inEditMode?a("div",{staticClass:"ced-toolbar-edit-spacer"}):e._e(),a("q-input",{staticClass:"no-shadow",attrs:{"float-label":"Summary","inverted-light":"",color:e.fieldColor},model:{value:e.editEventObject.summary,callback:function(t){e.$set(e.editEventObject,"summary",t)},expression:"editEventObject.summary"}})],1):e.eventObject.summary?a("div",{staticClass:"ced-top-title"},[e._v("\n      "+e._s(e.eventObject.summary)+"\n    ")]):e._e(),e.isEditingAllowed&&!e.inEditMode?a("div",{staticClass:"ced-edit-button-container"},[a("div",{staticClass:"ced-edit-button"},[a("q-btn",{attrs:{round:"",icon:"edit",color:e.getEventColor(e.eventObject,"color"),"text-color":e.getEventColor(e.eventObject,"textColor")},on:{click:e.startEditMode}})],1)]):e._e()]),a("div",{staticClass:"ced-content"},[e.isEditingAllowed&&!e.inEditMode?a("div",{staticClass:"ced-edit-button-content-spacer"}):e._e(),a("q-list",{attrs:{"no-border":""}},[a("q-item",{attrs:{multiline:""}},[a("q-item-side",[a("q-item-tile",{attrs:{icon:"access_time"}})],1),e.isEditingAllowed&&e.inEditMode?a("q-item-main",[a("div",{staticClass:"row items-center gutter-xs"},[a("div",[a("q-field",[a("q-datetime",{staticClass:"no-shadow",attrs:{type:"date","inverted-light":"",color:e.fieldColor,format:"MMM D, YYYY"},model:{value:e.startDateObject,callback:function(t){e.startDateObject=t},expression:"startDateObject"}})],1)],1),e.editEventObject.start.isAllDay?e._e():a("div",[a("q-field",[a("q-datetime",{staticClass:"no-shadow",attrs:{type:"time","inverted-light":"",color:e.fieldColor},model:{value:e.startTimeObject,callback:function(t){e.startTimeObject=t},expression:"startTimeObject"}})],1)],1),a("div",[e._v("to")]),a("div",[a("q-field",[a("q-datetime",{staticClass:"no-shadow",attrs:{type:"date","inverted-light":"",color:e.fieldColor,format:"MMM D, YYYY"},model:{value:e.endDateObject,callback:function(t){e.endDateObject=t},expression:"endDateObject"}})],1)],1),e.editEventObject.start.isAllDay?e._e():a("div",[a("q-field",[a("q-datetime",{staticClass:"no-shadow",attrs:{type:"time","inverted-light":"",color:e.fieldColor},model:{value:e.endTimeObject,callback:function(t){e.endTimeObject=t},expression:"endTimeObject"}})],1)],1)]),a("q-field",[a("q-checkbox",{attrs:{label:"All day","toggle-indeterminate":!1},model:{value:e.editEventObject.start.isAllDay,callback:function(t){e.$set(e.editEventObject.start,"isAllDay",t)},expression:"editEventObject.start.isAllDay"}})],1)],1):a("q-item-main",[e.eventObject.start&&e.eventObject.start.dateObject?a("div",{staticClass:"ced-list-title"},[e._v("\n            "+e._s(e.formatDate(e.eventObject.start.dateObject,"DATE_HUGE",!0))+"\n            "),e.eventObject.end&&e.eventObject.end.dateObject&&e.eventObject.start.isAllDay&&e.formatDate(e.eventObject.start.dateObject,"DATE_SHORT",!0)!==e.formatDate(e.eventObject.end.dateObject,"DATE_SHORT",!0)?[e._v("\n              -\n              "+e._s(e.formatDate(e.eventObject.end.dateObject,"DATE_HUGE",!0))+"\n            ")]:e._e()],2):e._e(),e.eventObject.end&&e.eventObject.end.dateObject&&!0!==e.eventObject.start.isAllDay?a("div",{staticClass:"ced-list-subtitle"},[e._v("\n            "+e._s(e.formatDate(e.eventObject.start.dateObject,"TIME_SIMPLE",!0))+"\n            -\n            "+e._s(e.formatDate(e.eventObject.end.dateObject,"TIME_SIMPLE",!0))+"\n          ")]):e._e()])],1),e.isEditingAllowed&&e.inEditMode?a("q-item",{attrs:{multiline:""}},[a("q-item-side",[a("q-item-tile",{attrs:{icon:"location_on"}})],1),a("q-item-main",{staticClass:"ced-list-title"},[a("q-field",[a("q-input",{staticClass:"no-shadow",attrs:{"float-label":"Location","inverted-light":"",color:e.fieldColor},model:{value:e.editEventObject.location,callback:function(t){e.$set(e.editEventObject,"location",t)},expression:"editEventObject.location"}})],1)],1)],1):e.textExists("location")?a("q-item",[a("q-item-side",[a("q-item-tile",{attrs:{icon:"location_on"}})],1),a("q-item-main",{staticClass:"ced-list-title"},[e._v("\n          "+e._s(e.eventObject.location)+"\n        ")])],1):e._e(),e.countResources>0?a("q-item",[a("q-item-side",[a("q-item-tile",{attrs:{icon:"business"}})],1),a("q-item-main",e._l(e.eventObject.attendees,function(t){return t.resource?a("q-item",{key:t.id,staticClass:"ced-nested-item",attrs:{dense:""}},[e._v("\n            "+e._s(t.displayName)+"\n          ")]):e._e()}))],1):e._e(),e.countAttendees>0?a("q-item",{attrs:{multiline:""}},[a("q-item-side",{attrs:{icon:"people"}}),a("q-item-main",{staticClass:"ced-list-title"},[a("q-item-tile",[e._v("\n            "+e._s(e.countAttendees)+" guest"),e.countAttendees>1?[e._v("s")]:e._e()],2),a("q-item-tile",e._l(e.eventObject.attendees,function(t){return t.resource?e._e():a("q-item",{key:t.id,staticClass:"ced-nested-item",attrs:{dense:""}},[a("q-item-side",{staticClass:"ced-small-inverted-icon",attrs:{inverted:"",icon:"person"}}),a("q-item-main",{staticClass:"ced-list-title"},[t.displayName&&t.displayName.length>0?[e._v("\n                  "+e._s(t.displayName)+"\n                ")]:[e._v("\n                  "+e._s(t.email)+"\n                ")]],2)],1)}))],1)],1):e._e(),e.isEditingAllowed&&e.inEditMode?a("q-item",[a("q-item-side",[a("q-item-tile",{attrs:{icon:"format_align_left"}})],1),a("q-item-main",[a("q-field",[a("q-input",{staticClass:"no-shadow",attrs:{"float-label":"Description","inverted-light":"",color:e.fieldColor},model:{value:e.editEventObject.description,callback:function(t){e.$set(e.editEventObject,"description",t)},expression:"editEventObject.description"}})],1)],1)],1):e.textExists("description")?a("q-item",{attrs:{multiline:""}},[a("q-item-side",[a("q-item-tile",{attrs:{icon:"format_align_left"}})],1),a("q-item-main",{staticClass:"ced-list-title",domProps:{innerHTML:e._s(e.eventObject.description)}})],1):e._e()],1)],1),e.isEditingAllowed&&e.inEditMode?a("div",{staticClass:"row justify-end q-pa-md gutter-sm"},[a("div",[a("q-btn",{attrs:{color:"warning",icon:"cancel",label:"Cancel"},on:{click:function(t){e.__close()}}})],1),a("div",[a("q-btn",{attrs:{color:"positive",icon:"check",label:"Save"},on:{click:function(t){e.__save()}}})],1)]):e._e()])},G=[];z._withStripped=!0;const{DateTime:J}=a("ExVU");var V={name:"CalendarEventDetail",props:{eventObject:{type:Object,default:()=>{}},eventRef:{type:String,default:"cal-"+Math.random().toString(36).substring(2,15)},calendarLocale:{type:String,default:()=>{return J.local().locale}},calendarTimezone:{type:String,default:()=>{return J.local().zoneName}},allowEditing:{type:Boolean,default:!1},fieldColor:{type:String,default:"grey-2"}},components:{QList:u["K"],QItem:u["B"],QItemSide:u["E"],QItemTile:u["F"],QItemMain:u["C"],QModal:u["M"],QBtn:u["i"],QIcon:u["y"],QField:u["x"],QCheckbox:u["r"],QDatetime:u["t"],QInput:u["A"]},mixins:[c],data(){return{modalIsOpen:!1,inEditMode:!1,editEventObject:{},startDateObject:new Date,startTimeObject:new Date,endDateObject:new Date,endTimeObject:new Date}},computed:{countAttendees:function(){if(!o()(this.eventObject,"attendees"))return 0;let e=this.eventObject.attendees.length;for(let t of this.eventObject.attendees)t.resource&&e--;return e},countResources:function(){if(!o()(this.eventObject,"attendees"))return 0;let e=0;for(let t of this.eventObject.attendees)t.resource&&e++;return e},getTopColorClasses:function(){return this.addCssColorClasses({"ced-top":!0,"q-pr-md":!0,"q-py-md":!0,"relative-position":!0},this.eventObject)},getEventStyle:function(){return{}},getEventClass:function(){return this.addCssColorClasses({"calendar-event":!0,"calendar-event-month":this.monthStyle},this.eventObject)},isEditingAllowed:function(){return o()(this.eventObject,"allowEditing")?this.eventObject.allowEditing:this.allowEditing}},methods:{textExists:function(e){return o()(this.eventObject,e)&&this.eventObject[e].length>0},__open:function(){this.modalIsOpen=!0},__close:function(){this.modalIsOpen=!1,this.inEditMode=!1},startEditMode:function(){this.editEventObject=this.eventObject,o()(this.editEventObject,"start.isAllDay")||(this.editEventObject.start.isAllDay=!1);let e={};e="function"===typeof this.editEventObject.start.dateObject.toJSDate?this.editEventObject.start.dateObject.toJSDate():this.editEventObject.start.dateObject,this.startDateObject=e,this.startTimeObject=e,o()(this.editEventObject,"end.dateObject")&&(e="function"===typeof this.editEventObject.end.dateObject.toJSDate?this.editEventObject.end.dateObject.toJSDate():this.editEventObject.end.dateObject,this.endDateObject=e,this.endTimeObject=e),this.inEditMode=!0},__save:function(){let e=["start","end"];for(let t of e){let e=J.fromJSDate(this[t+"DateObject"]),a=this[t+"TimeObject"];e=e.set({hour:a.getHours(),minute:a.getMinutes(),second:a.getSeconds()}),this.editEventObject[t]={dateObject:e,dateTime:e.toISO()}}this.eventObject=this.editEventObject,this.$root.$emit("update-event-"+this.eventRef,this.eventObject),this.__close()}},mounted(){}},Z=V,Y=(a("1PwH"),Object(O["a"])(Z,z,G,!1,null,null,null)),K=Y.exports;const{DateTime:X}=a("ExVU");var ee={name:"CalendarMonth",components:{QuantityBubble:q,CalendarEvent:w,CalendarDayLabels:L,CalendarHeaderNav:Q,CalendarEventDetail:K,QBtn:u["i"],QTooltip:u["Ea"],QTabs:u["Ba"],QTab:u["Z"],QTabPane:u["Aa"],QScrollArea:u["U"]},mixins:[y,c,h],props:{fullComponentRef:String},data(){return{dayCellHeight:5,dayCellHeightUnit:"rem",workingDate:new Date,weekArray:[],parsed:this.getDefaultParsed(),eventDetailEventObject:{}}},computed:{calendarDaysAreClickable:function(){return this.fullComponentRef&&this.fullComponentRef.length>0}},methods:{monthGetDateEvents:function(e){return this.dateGetEvents(e)},doUpdate:function(){this.mountSetDate(),this.generateCalendarCellArray()},getCalendarCellArray:function(e,t){let a=this.makeDT(X.fromObject({year:t,month:e,day:1})),n=this.getWeekNumber(a,this.sundayFirstDayOfWeek),i=[],s=[],r={};for(let l=1;l<=31;l++)a=this.makeDT(X.fromObject({year:t,month:e,day:l})),a.year===t&&a.month===e&&(this.getWeekNumber(a,this.sundayFirstDayOfWeek)!==n&&(i.push(s),n=this.getWeekNumber(a,this.sundayFirstDayOfWeek),s=[]),r={dateObject:a,year:a.year,month:a.month,date:a.day,dayName:a.toFormat("EEEE"),dayNumber:a.weekday},s.push(r));return i.length>0&&i.push(s),i},generateCalendarCellArray:function(){this.weekArray=this.getCalendarCellArray(this.makeDT(this.workingDate).month,this.makeDT(this.workingDate).year)},handleNavMove:function(e){this.moveTimePeriod(e),this.$emit(this.eventRef+":navMovePeriod",{unitType:e.unitType,amount:e.amount}),this.generateCalendarCellArray()},handleDayClick:function(e){this.fullComponentRef&&this.fullMoveToDay(e)}},mounted(){this.doUpdate(),this.handlePassedInEvents(),this.$root.$on(this.eventRef+":navMovePeriod",this.handleNavMove),this.$root.$on("click-event-"+this.eventRef,this.handleEventDetailEvent),this.$root.$on("update-event-"+this.eventRef,this.handleEventUpdate)},watch:{startDate:"handleStartChange",eventArray:function(){this.getPassedInEventArray()},parsedEvents:function(){this.getPassedInParsedEvents()}}},te=ee,ae=(a("VBOT"),Object(O["a"])(te,j,k,!1,null,null,null)),ne=ae.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"calendar-multi-day-component column fit no-wrap"},[1===e.numDays?[a("calendar-header-nav",{attrs:{"time-period-unit":"days","time-period-amount":e.navDays,"move-time-period-emit":e.eventRef+":navMovePeriod","calendar-locale":e.calendarLocale}},[e._v("\n      "+e._s(e.formatDate(e.workingDate,"EEEE, MMMM d, yyyy"))+"\n    ")])]:[a("calendar-header-nav",{attrs:{"time-period-unit":"days","time-period-amount":e.navDays,"move-time-period-emit":e.eventRef+":navMovePeriod"}},[e._v("\n      "+e._s(e.getHeaderLabel())+"\n    ")])],e.numDays>1?a("div",{staticClass:"calendar-time-margin"},[a("calendar-day-labels",{attrs:{"number-of-days":e.numDays,"show-dates":!0,"start-date":e.workingDate,"force-start-of-week":e.forceStartOfWeek,"full-component-ref":e.fullComponentRef,"sunday-first-day-of-week":e.sundayFirstDayOfWeek,"calendar-locale":e.calendarLocale}})],1):e._e(),a("div",{staticClass:"calendar-time-margin"},[a("calendar-all-day-events",{attrs:{"number-of-days":e.numDays,"start-date":e.weekDateArray[0],parsed:e.parsed,"event-ref":e.eventRef,"prevent-event-detail":e.preventEventDetail,"calendar-locale":e.calendarLocale,"calendar-timezone":e.calendarTimezone}})],1),a("q-scroll-area",{class:e.getScrollClass,style:e.getScrollStyle},[a("div",{staticClass:"col"},[a("div",{staticClass:"calendar-day row"},[a("calendar-time-label-column",{attrs:{"calendar-locale":e.calendarLocale}}),a("div",{staticClass:"calendar-multiple-days col row"},e._l(e.weekDateArray,function(t){return a("calendar-day-column",{key:e.makeDT(t).toISODate(),style:{width:e.dayCellWidth},attrs:{"start-date":t,"date-events":e.dateGetEvents(t,!0),"column-css-class":"calendar-day-column-content","event-ref":e.eventRef,"prevent-event-detail":e.preventEventDetail,"calendar-locale":e.calendarLocale,"calendar-timezone":e.calendarTimezone,"allow-editing":e.allowEditing}})}))],1)])]),e.preventEventDetail?e._e():a("calendar-event-detail",{ref:"defaultEventDetail",attrs:{"event-object":e.eventDetailEventObject,"event-ref":e.eventRef,"calendar-locale":e.calendarLocale,"calendar-timezone":e.calendarTimezone,"allow-editing":e.allowEditing}})],2)},se=[];ie._withStripped=!0;var re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.columnCss},[e._l(24,function(t){return a("div",{key:t,style:e.getCellStyle},[a("div",{staticClass:"calendar-day-time-content"})])}),e._l(e.dateEvents,function(t){return e.dateEvents.length>0?a("div",{key:e.makeDT(e.workingDate).toISODate()+e.getEventIdString(t),class:e.calculateDayEventClass(t),style:e.calculateDayEventStyle(t)},[t.start.isAllDay?e._e():a("calendar-event",{attrs:{"event-object":t,"event-ref":e.eventRef,"calendar-locale":e.calendarLocale,"calendar-timezone":e.calendarTimezone,"prevent-event-detail":e.preventEventDetail,"allow-editing":e.allowEditing}})],1):e._e()})],2)},le=[];re._withStripped=!0;const{DateTime:oe}=a("ExVU");var de={name:"CalendarDayColumn",props:{startDate:{type:[Object,Date],default:()=>{return new Date}},dateEvents:{type:Array,default:()=>[]},columnCssClass:{type:String,default:"col"},dayCellHeight:{type:Number,default:5},dayCellHeightUnit:{type:String,default:"rem"},eventRef:String,preventEventDetail:{type:Boolean,default:!1},calendarLocale:{type:String,default:()=>{return oe.local().locale}},calendarTimezone:{type:String,default:()=>{return oe.local().zoneName}},allowEditing:{type:Boolean,default:!1}},components:{CalendarEvent:w},mixins:[c],data(){return{workingDate:new Date,eventDetailEventObject:{}}},watch:{startDate:"mountSetDate"},computed:{columnCss:function(){let e={"calendar-day-column-content":!0,"relative-position":!0,"calendar-day-column-weekend":this.isWeekendDay(this.workingDate),"calendar-day-column-current":this.isCurrentDate(this.workingDate)};return e[this.columnCssClass]=!0,e},getCellStyle:function(){return{height:this.dayCellHeight+this.dayCellHeightUnit,"max-height":this.dayCellHeight+this.dayCellHeightUnit}}},methods:{calculateDayEventClass:function(e){let t={};return e.numberOfOverlaps>0&&(t["calendar-day-event-overlap"]=!0,1===e.overlapIteration&&(t["calendar-day-event-overlap-first"]=!0)),t},calculateDayEventStyle:function(e){let t={position:"absolute","z-index":10,width:"100%"},a={};if(a=e.start.dateObject&&e.end.dateObject?this.calculateDayEventPosition(e.start.dateObject,e.end.dateObject):{top:0,height:0},t["top"]=a.top,t["height"]=a.height,e.numberOfOverlaps>0){let a=(100/(e.numberOfOverlaps+1)).toFixed(2),n=a*(e.overlapIteration-1);t["width"]=a+"%",t["max-width"]=a+"%",t["left"]=n+"%",t["z-index"]=10+e.overlapIteration}return t},calculateDayEventPosition:function(e,t){let a=u["Ha"].adjustDate(e,{hours:0,minutes:0,seconds:0,milliseconds:0}),n=u["Ha"].getDateDiff(e,a,"minutes"),i=u["Ha"].getDateDiff(t,e,"minutes"),s=this.dayCellHeight/60;return{top:n*s+this.dayCellHeightUnit,height:i*s+this.dayCellHeightUnit}}},mounted(){this.mountSetDate()}},ce=de,ue=(a("UEBS"),Object(O["a"])(ce,re,le,!1,null,null,null)),ve=ue.exports,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"calendar-day-column-label col-auto"},e._l(24,function(t){return a("div",{key:t,staticClass:"calendar-day-time",style:{height:e.dayCellHeight,"max-height":e.dayCellHeight}},[e._v("\n    "+e._s(e.formatTimeFromNumber(t-1))+"\n  ")])}))},he=[];fe._withStripped=!0;const{DateTime:me}=a("ExVU");var ye={name:"CalendarTimeLabelColumn",props:{dayCellHeight:{type:String,default:"5rem"},calendarLocale:{type:String,default:()=>{return me.local().locale}}},components:{},mixins:[c],data(){return{}},computed:{},methods:{},mounted(){}},pe=ye,De=(a("k+HA"),Object(O["a"])(pe,fe,he,!1,null,null,null)),be=De.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"calendar-all-day-events row no-wrap justify-end items-start"},e._l(e.numberOfDays,function(t,n){return a("div",{key:t,style:{width:e.cellWidth,"max-width":e.cellWidth}},e._l(e.dateGetEvents(e.addDaysToDate(e.workingDate,t-1)),function(n){return n.start.isAllDay?a("calendar-event",{key:e.makeDT(e.addDaysToDate(e.workingDate,t-1)).toISODate()+e.getEventIdString(n),attrs:{"event-object":n,"show-time":!1,"event-ref":e.eventRef,"prevent-event-detail":e.preventEventDetail,"has-previous-day":n.hasPrev,"has-next-day":n.hasNext,"force-all-day":!0}}):e._e()}))}))},Ee=[];ge._withStripped=!0;var Oe={name:"CalendarAllDayEvents",props:{startDate:{type:[Object,Date],default:()=>{return new Date}},parsed:{type:Object,default:()=>{}},numberOfDays:{type:Number,default:7},eventRef:String,preventEventDetail:{type:Boolean,default:!1}},components:{CalendarEvent:w},mixins:[c,h],data(){return{dayCellHeight:5,dayCellHeightUnit:"rem",workingDate:new Date,workingDateObject:{},weekArray:[]}},computed:{cellWidth:function(){return this.calculateDayCellWidth(this.numberOfDays)}},methods:{doUpdate:function(){this.mountSetDate()},addDaysToDate:function(e,t){return this.makeDT(e).plus({days:t})}},mounted(){this.mountSetDate()},updated(){this.mountSetDate()},watch:{startDate:"handleStartChange"}},Ce=Oe,we=(a("cyHp"),Object(O["a"])(Ce,ge,Ee,!1,null,null,null)),je=we.exports,ke={name:"CalendarMultiDay",mixins:[y,c,h],props:{numDays:{type:Number,default:7},navDays:{type:Number,default:7},forceStartOfWeek:{type:Boolean,default:!0},dayCellHeight:{type:Number,default:5},dayCellHeightUnit:{type:String,default:"rem"},scrollStyle:{type:Object,default:function(){return{}}},scrollHeight:{type:String,default:"auto"},fullComponentRef:String},components:{CalendarEvent:w,CalendarDayColumn:ve,CalendarTimeLabelColumn:be,CalendarDayLabels:L,CalendarHeaderNav:Q,CalendarAllDayEvents:je,CalendarEventDetail:K,QBtn:u["i"],QTooltip:u["Ea"],QScrollArea:u["U"]},data(){return{workingDate:new Date,weekDateArray:[],dayRowArray:[],parsed:this.getDefaultParsed(),thisNavRef:this.createNewNavEventName(),eventDetailEventObject:{}}},computed:{dayCellWidth:function(){return this.calculateDayCellWidth(this.numDays)},getScrollStyle:function(){return this.scrollStyle.length>0?this.scrollStyle:{height:this.scrollHeight}},getScrollClass:function(){return"auto"===this.scrollHeight?{col:!0}:{}}},methods:{getHeaderLabel:function(){if(this.forceStartOfWeek){let e="",t=this.getForcedWeekBookendDates();return t.first.month!==t.last.month&&(e+=t.first.toFormat("MMM"),t.first.year!==t.last.year&&(e+=t.first.toFormat(" yyyy")),e+=" - "),e+=t.last.toFormat("MMM yyyy"),e}return this.makeDT(this.workingDate).toFormat("MMMM yyyy")},doUpdate:function(){this.mountSetDate(),this.buildWeekDateArray(this.numDays,this.sundayFirstDayOfWeek)},handleNavMove:function(e,t){this.moveTimePeriod(e,t),this.$emit(this.eventRef+":navMovePeriod",{unitType:e,amount:t}),this.buildWeekDateArray()}},mounted(){this.doUpdate(),this.handlePassedInEvents(),this.$root.$on(this.eventRef+":navMovePeriod",this.handleNavMove),this.$root.$on("click-event-"+this.eventRef,this.handleEventDetailEvent),this.$root.$on("update-event-"+this.eventRef,this.handleEventUpdate)},watch:{startDate:"handleStartChange",eventArray:"getPassedInEventArray",parsedEvents:"getPassedInParsedEvents"}},_e=ke,Se=(a("BGEv"),Object(O["a"])(_e,ie,se,!1,null,null,null)),Te=Se.exports,Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"calendar-agenda column fit"},["block"===e.agendaStyle?a("q-infinite-scroll",{style:{height:e.scrollHeight,overflow:"auto"},attrs:{inline:"",handler:e.loadMore}},[e._l(e.localNumDays,function(t){return a("div",{key:t},[(e.forwardDate=e.getDaysForwardDate(t-1))?a("div",[e.isFirstOfMonth(e.forwardDate)?a("div",{staticClass:"row calendar-agenda-month",style:{"padding-left":e.leftMargin}},[e._v("\n          "+e._s(e.formatDate(e.forwardDate,"MMMM yyyy"))+"\n        ")]):e._e(),e.isFirstDayOfWeek(e.forwardDate)?a("div",{staticClass:"row calendar-agenda-week",style:{"margin-left":e.leftMargin}},[e._v("\n          "+e._s(e.getWeekTitle(e.forwardDate))+"\n        ")]):e._e(),e.dateGetEvents(e.forwardDate).length>0?a("div",{staticClass:"col row items-start calendar-agenda-day"},[a("div",{staticClass:"col-auto calendar-agenda-side",class:{"cursor-pointer":e.calendarDaysAreClickable},style:{width:e.leftMargin,"max-width":e.leftMargin},on:{click:function(a){e.handleDayClick(e.getDaysForwardDate(t-1))}}},[a("div",{staticClass:"calendar-agenda-side-date"},[e._v("\n              "+e._s(e.formatDate(e.forwardDate,"d"))+"\n            ")]),a("div",{staticClass:"calendar-agenda-side-day"},[e._v("\n              "+e._s(e.formatDate(e.forwardDate,"EEE"))+"\n            ")])]),a("div",{staticClass:"col row calendar-agenda-events"},e._l(e.dateGetEvents(e.forwardDate),function(t){return e.dateGetEvents(e.forwardDate,!0)?a("calendar-agenda-event",{key:e.makeDT(e.forwardDate).toISODate()+e.getEventIdString(t),attrs:{"event-object":t,"event-ref":e.eventRef,"calendar-locale":e.calendarLocale,"calendar-timezone":e.calendarTimezone,"allow-editing":e.allowEditing}}):e._e()}))]):e._e()]):e._e()])}),a("q-spinner-dots",{attrs:{slot:"message",size:40},slot:"message"})],2):a("div",[a("calendar-header-nav",{attrs:{"time-period-unit":"days","time-period-amount":1,"move-time-period-emit":e.eventRef+":navMovePeriod","calendar-locale":e.calendarLocale}},[e._v("\n      "+e._s(e.formatDate(e.workingDate,"EEE, MMM d"))+"\n      -\n      "+e._s(e.formatDate(e.makeDT(e.workingDate).plus({days:e.numJumpDays}),"MMM d"))+"\n    ")]),e._l(e.numJumpDays,function(t){return a("div",{key:t},[(e.forwardDate=e.getDaysForwardDate(t-1))?a("div",{staticClass:"calendar-agenda-style-dot"},[e.dateGetEvents(e.forwardDate).length>0?a("div",{staticClass:"col row items-start calendar-agenda-day"},[a("div",{staticClass:"col-auto calendar-agenda-side",class:{"cursor-pointer":e.calendarDaysAreClickable},attrs:{NOstyle:{width:e.leftMargin,"max-width":e.leftMargin}},on:{click:function(a){e.handleDayClick(e.getDaysForwardDate(t-1))}}},[a("div",{staticClass:"calendar-agenda-side-day"},[e._v("\n              "+e._s(e.formatDate(e.forwardDate,"EEE"))+"\n            ")]),a("div",{staticClass:"calendar-agenda-side-date"},[e._v("\n              "+e._s(e.formatDate(e.forwardDate,"MMM d"))+"\n            ")])]),a("div",{staticClass:"col row calendar-agenda-events"},e._l(e.dateGetEvents(e.forwardDate,!0),function(t){return e.dateGetEvents(e.forwardDate)?a("div",{key:e.makeDT(e.forwardDate).toISODate()+e.getEventIdString(t),staticClass:"full-width"},[a("calendar-agenda-event",{attrs:{"event-object":t,"event-ref":e.eventRef,"calendar-locale":e.calendarLocale,"calendar-timezone":e.calendarTimezone,"agenda-style":"dot"}})],1):e._e()}))]):e._e()]):e._e()])})],2),e.preventEventDetail?e._e():a("calendar-event-detail",{ref:"defaultEventDetail",attrs:{"event-object":e.eventDetailEventObject,"event-ref":e.eventRef,"allow-editing":e.allowEditing}})],1)},Me=[];Ae._withStripped=!0;var qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return"dot"===e.agendaStyle?a("div",{class:e.getDotEventClass(),style:e.getEventStyle(),on:{mouseup:e.handleClick}},[a("div",{staticClass:"col-auto calendar-agenda-event-dot",class:e.getDotClass()}),e.showTime?a("div",{staticClass:"col-auto calendar-agenda-event-time"},[e.eventObject.start.isAllDay?[e._v("\n      All day\n    ")]:[e._v("\n      "+e._s(e.formatTimeRange(e.eventObject.start.dateObject,e.eventObject.end.dateObject))+"\n    ")]],2):e._e(),a("div",{staticClass:"col calendar-agenda-event-summary"},[e._v("\n    "+e._s(e.eventObject.summary)+"\n  ")])]):a("div",{class:e.getEventClass(),style:e.getEventStyle(),on:{mouseup:e.handleClick}},[a("div",{staticClass:"calendar-agenda-event-summary"},[e._v("\n    "+e._s(e.eventObject.summary)+"\n  ")]),e.showTime&&!e.eventObject.start.isAllDay?a("div",{staticClass:"calendar-agenda-event-time"},[e._v("\n    "+e._s(e.formatTimeRange(e.eventObject.start.dateObject,e.eventObject.end.dateObject))+"\n  ")]):e._e()])},Ie=[];qe._withStripped=!0;const{DateTime:Pe}=a("ExVU");var xe={name:"CalendarAgendaEvent",props:{eventObject:{type:Object,default:()=>{}},agendaStyle:{type:String,default:"block"},color:{type:String,default:"primary"},textColor:{type:String,default:"white"},showTime:{type:Boolean,default:!0},monthStyle:{type:Boolean,default:!1},eventRef:String,calendarLocale:{type:String,default:()=>{return Pe.local().locale}},calendarTimezone:{type:String,default:()=>{return Pe.local().zoneName}},allowEditing:{type:Boolean,default:!1}},components:{QBtn:u["i"],QTooltip:u["Ea"]},mixins:[c],data(){return{}},computed:{},methods:{getDotClass:function(){return this.addCssColorClasses({},this.eventObject)},getDotEventClass:function(){return{row:!0,"items-center":!0,"justify-start":!0,"cursor-pointer":!0,"calendar-agenda-event":!0,"calendar-agenda-event-dot-style":!0,"calendar-agenda-event-allday":this.eventObject.start.isAllDay,"calendar-agenda-event-empty-slot":this.eventObject.start.isEmptySlot}},getEventClass:function(){return this.addCssColorClasses({"calendar-agenda-event":!0,"calendar-agenda-event-allday":this.eventObject.start.isAllDay,"calendar-agenda-event-empty-slot":this.eventObject.start.isEmptySlot},this.eventObject)},getEventStyle:function(){return{}},formatTimeRange:function(e,t){let a="";return a+=this.simplifyTimeFormat(this.makeDT(e).toLocaleString(Pe.TIME_SIMPLE),this.formatDate(e,"a")===this.formatDate(t,"a")),a+=" - ",a+=this.simplifyTimeFormat(this.makeDT(t).toLocaleString(Pe.TIME_SIMPLE),!1),a},handleClick:function(e){this.eventObject.allowEditing=this.allowEditing,this.$emit("click",this.eventObject),this.triggerEventClick(this.eventObject,this.eventRef)}},mounted(){}},Re=xe,$e=(a("RDHp"),Object(O["a"])(Re,qe,Ie,!1,null,null,null)),Ne=$e.exports,Le={name:"CalendarAgenda",components:{CalendarAgendaEvent:Ne,CalendarEventDetail:K,CalendarHeaderNav:Q,QBtn:u["i"],QTooltip:u["Ea"],QScrollArea:u["U"],QInfiniteScroll:u["z"],QSpinnerDots:u["X"]},mixins:[y,c,h],props:{agendaStyle:{type:String,default:"dot"},numDays:{type:Number,default:7},leftMargin:{type:String,default:"4rem"},scrollHeight:{type:String,default:"200px"},fullComponentRef:String},data(){return{workingDate:new Date,numJumpDays:28,localNumDays:28,dayRowArray:[],dayCounter:[],parsed:this.getDefaultParsed(),eventDetailEventObject:{}}},computed:{calendarDaysAreClickable:function(){return this.fullComponentRef&&this.fullComponentRef.length>0}},methods:{getDaysForwardDate:function(e){return u["Ha"].addToDate(this.workingDate,{days:e})},isFirstOfMonth:function(e){return 1===e.getDate()},isFirstDayOfWeek:function(e){return 1===u["Ha"].getDayOfWeek(e)},loadMore:function(e,t){this.localNumDays+=this.numJumpDays,t()},doUpdate:function(){this.mountSetDate()},getWeekTitle:function(e){let t=u["Ha"].addToDate(e,{days:6});return e.getMonth()===t.getMonth()?this.formatDate(e,"MMM d - ")+this.formatDate(t,"d"):this.formatDate(e,"MMM d - ")+this.formatDate(t,"MMM d")},handleNavMove:function(e){this.moveTimePeriod(e),this.$emit(this.eventRef+":navMovePeriod",{unitType:e.unitType,amount:e.amount})},handleDayClick:function(e){this.fullComponentRef&&this.fullMoveToDay(e)}},mounted(){this.localNumDays=this.numDays,this.doUpdate(),this.handlePassedInEvents(),this.$root.$on(this.eventRef+":navMovePeriod",this.handleNavMove),this.$root.$on("click-event-"+this.eventRef,this.handleEventDetailEvent),this.$root.$on("update-event-"+this.eventRef,this.handleEventUpdate)},watch:{startDate:"handleStartChange",eventArray:function(){this.getPassedInEventArray()},parsedEvents:function(){this.getPassedInParsedEvents()}}},We=Le,He=(a("Oj6A"),Object(O["a"])(We,Ae,Me,!1,null,null,null)),Fe=He.exports,Be={name:"Calendar",mixins:[y,c,h],props:{tabLabels:{type:Object,default:()=>{return{month:"Month",week:"Week",threeDay:"3 Day",day:"Day",agenda:"Agenda"}}}},components:{QuantityBubble:q,CalendarEvent:w,CalendarMonth:ne,CalendarMultiDay:Te,CalendarAgenda:Fe,CalendarDayColumn:ve,CalendarTimeLabelColumn:be,CalendarDayLabels:L,CalendarHeaderNav:Q,QBtn:u["i"],QTooltip:u["Ea"],QTabs:u["Ba"],QTab:u["Z"],QTabPane:u["Aa"],QScrollArea:u["U"]},data(){return{dayCellHeight:5,dayCellHeightUnit:"rem",workingDate:new Date,parsed:{byAllDayStartDate:{},byStartDate:{},byId:{}},dayRowArray:[],thisRefName:this.createRandomString()}},computed:{},methods:{setupEventsHandling:function(){this.$root.$on(this.eventRef+":navMovePeriod",this.calPackageMoveTimePeriod),this.$root.$on(this.eventRef+":moveToSingleDay",this.switchToSingleDay),this.$root.$on("update-event-"+this.eventRef,this.handleEventUpdate)},calPackageMoveTimePeriod:function(e){this.moveTimePeriod(e),this.$emit("calendar:navMovePeriod",e)},switchToSingleDay:function(e){this.setTimePeriod(e),this.$refs.fullCalendarTabs.selectTab("tab-single-day-component")},doUpdate:function(){this.mountSetDate()}},mounted(){this.mountSetDate(),this.parseEventList(),this.setupEventsHandling()},watch:{startDate:"handleStartChange",eventArray:function(){this.getPassedInEventArray()},parsedEvents:function(){this.getPassedInParsedEvents()}}},Ue=Be,Qe=(a("od6v"),Object(O["a"])(Ue,s,r,!1,null,null,null)),ze=Qe.exports,Ge=a("ihjQ"),Je=a("YgEf"),Ve={name:"calendar-page",components:{Calendar:ze},data:function(){return{tabs:{month:"Month",week:"Week",threeDay:"3 day",day:"Day",agenda:"Agenda"},events:[],allEvents:[],loaded:!1,me:{}}},created:function(){this.$root.$off("delete_event"),this.$root.$on("delete_event",this.deleteEvent),this.$root.$off("edit_event"),this.$root.$on("edit_event",this.editEvent)},watch:{events:function(e,t){this.mapEvents(e)}},methods:{reRender:function(){var e=this;this.loaded=!1,this.$nextTick(function(){e.loaded=!0})},editEvent:function(e){this.$router.push("/events/".concat(e.id))},deleteEvent:function(e){var t=this;this.$apollo.mutate({mutation:Ge["c"],variables:{id:e.id},update:function(a,n){n.data.deleteEvent;var i=a.readQuery({query:Ge["a"],variables:{userId:t.$store.state.app.userId}}),s=i.events,r=s.filter(function(t){return t.id!==e.id});a.writeQuery({query:Ge["a"],data:{events:r}})}}).then(function(e){t.$q.notify({message:"Event sucessfully deleted",type:"positive"}),t.$router.replace("/calendar")})},mapEvents:function(e){this.allEvents=e.map(function(e){var t=Object(u["Ja"])({},e.event);return t.start=Object(u["Ja"])({},e.event.start),t.end=Object(u["Ja"])({},e.event.end),t.id=e.id,""===t.color&&delete t.color,t}),this.loaded=!0,this.reRender()}},apollo:{events:{query:Ge["a"],fetchPolicy:"cache-and-network",subscribeToMore:[{document:Ge["d"],updateQuery:function(e,t){var a=t.subscriptionData;return Object(Je["a"])(e,a,"events","event")}}]}}},Ze=Ve,Ye=Object(O["a"])(Ze,n,i,!1,null,null,null);t["default"]=Ye.exports},"u/e4":function(e,t,a){},vy9o:function(e,t,a){},wVGO:function(e,t,a){"use strict";var n=a("E4go"),i=a.n(n);i.a}}]);